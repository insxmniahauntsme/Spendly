<UserControl x:Class="Spendly.Views.MainLayoutView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:dashboardViews="clr-namespace:Spendly.Views.Dashboard"
             xmlns:transactionsViews="clr-namespace:Spendly.Views.Transactions"
             xmlns:selectors="clr-namespace:Spendly.Selectors"
             xmlns:dashboardVm="clr-namespace:Spendly.ViewModels.Dashboard"
             xmlns:transactionsVm="clr-namespace:Spendly.ViewModels.Transactions">

    <UserControl.Resources>

        <!-- HEADER templates -->
        <DataTemplate x:Key="Header.Dashboard" DataType="{x:Type dashboardVm:DashboardViewModel}">
            <dashboardViews:DashboardHeaderView/>
        </DataTemplate>

        <DataTemplate x:Key="Header.Transactions" DataType="{x:Type transactionsVm:TransactionsViewModel}">
            <transactionsViews:TransactionsHeaderView/>
        </DataTemplate>

        <!-- BODY templates -->
        <DataTemplate x:Key="Body.Dashboard" DataType="{x:Type dashboardVm:DashboardViewModel}">
            <dashboardViews:DashboardView/>
        </DataTemplate>

        <DataTemplate x:Key="Body.Transactions" DataType="{x:Type transactionsVm:TransactionsViewModel}">
            <transactionsViews:TransactionsView/>
        </DataTemplate>

        <!-- Selectors -->
        <selectors:HeaderTemplateSelector x:Key="HeaderTemplateSelector"
                                          Dashboard="{StaticResource Header.Dashboard}"
                                          Transactions="{StaticResource Header.Transactions}" />

        <selectors:BodyTemplateSelector x:Key="BodyTemplateSelector"
                                        Dashboard="{StaticResource Body.Dashboard}"
                                        Transactions="{StaticResource Body.Transactions}" />

    </UserControl.Resources>
    
    <Grid Background="{StaticResource Brush.MainBg}">

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar -->
        <Border Grid.Column="0"
                Background="{StaticResource Brush.SidebarBg}"
                BorderBrush="{StaticResource Brush.Border}"
                BorderThickness="0,0,1,0">

            <StackPanel>

                <!-- Logo -->
                <TextBlock Text="Spendly"
                           Margin="20"
                           FontSize="24"
                           FontWeight="Bold"
                           Foreground="{StaticResource Brush.Primary}" />
                
                <!-- Divider -->
                <Border Style="{StaticResource DividerStyle}" />

                <!-- Navigation Buttons -->
                <RadioButton Content="Dashboard"
                             IsChecked="{Binding IsDashboardSelected}"
                             Style="{StaticResource SidebarButtonStyle}"/>


                <RadioButton Content="Transactions"
                             IsChecked="{Binding IsTransactionsSelected}"
                             Style="{StaticResource SidebarButtonStyle}"/>


            </StackPanel>

        </Border>

        <!-- Main Content -->
        <Grid Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="72"/> <!-- Header -->
                <RowDefinition Height="Auto"/> <!-- Divider -->
                <RowDefinition Height="*"/> <!-- Main Content -->
            </Grid.RowDefinitions>

            <!-- Header -->
            <ContentControl Grid.Row="0"
                            Content="{Binding CurrentVm}"
                            ContentTemplateSelector="{StaticResource HeaderTemplateSelector}"/>

            <!-- Divider -->
            <Border Grid.Row="1" Style="{StaticResource DividerStyle}"/>

            <!-- Main content -->
            <ContentControl Grid.Row="2"
                            Content="{Binding CurrentVm}"
                            ContentTemplateSelector="{StaticResource BodyTemplateSelector}"/>

        </Grid>
    </Grid>
</UserControl>